(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{433:function(t,s,a){"use strict";a.r(s);var n=a(47),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#部署"}},[t._v("#")]),t._v(" 部署")]),t._v(" "),a("blockquote",[a("p",[t._v("欢迎大家到"),a("a",{attrs:{href:"https://support.qq.com/products/93432/",target:"_blank",rel:"noopener noreferrer"}},[t._v("鲁班 H5-社区"),a("OutboundLink")],1),t._v("交流，在这里可以提问、反馈意见和建议，与作者直接互动")])]),t._v(" "),a("h2",{attrs:{id:"阿里云-腾讯云-digital-ocean"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#阿里云-腾讯云-digital-ocean"}},[t._v("#")]),t._v(" 阿里云/腾讯云/Digital Ocean")]),t._v(" "),a("blockquote",[a("p",[t._v("以 Centos 为例，Ubuntu 等其它发行版，请自行调整")])]),t._v(" "),a("ol",[a("li",[t._v("首先需要安装一些基础的软件包，请自行安装 (具体参照其官网文档)")])]),t._v(" "),a("blockquote",[a("p",[a("code",[t._v("node、npm、yarn、pm2")])])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# install yarn")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" --silent --location https://dl.yarnpkg.com/rpm/yarn.repo "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("tee")]),t._v(" /etc/yum.repos.d/yarn.repo\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" -y\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# install nginx")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" nginx -y\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# install pm2")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" pm2 -g\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# pm2 examples")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# pm2 start server.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# pm2 stop server")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# pm2 restart server")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# pm2 stop all")]),t._v("\n")])])]),a("ol",{attrs:{start:"2"}},[a("li",[t._v("在服务器上执行如下代码即可")])]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/ly525/luban-h5.git\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" luban-h5\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 如果您遇到 sqlite3、node-gpy 等安装报错问题，请您执行 ./deploy/mirror.sh 配置npm 镜像为阿里云镜像(特别是为了解决二进制包安装问题)")]),t._v("\n./luban-h5.sh init  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 安装依赖，构建前后端")]),t._v("\n./luban-h5.sh start "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 启动项目即可")]),t._v("\n./luban-h5.sh stop  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# 停止服务")]),t._v("\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("如何访问：\n"),a("ol",[a("li",[t._v("配置防火墙安全组，添加 1337 端口，通过 "),a("code",[t._v("http://服务器IP:1337")]),t._v(" 访问即可访问")]),t._v(" "),a("li",[a("code",[t._v("http://服务器IP:1337/admin")]),t._v(" 为鲁班的管理后台")])])])]),t._v(" "),a("h2",{attrs:{id:"docker-部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-部署"}},[t._v("#")]),t._v(" Docker 部署")]),t._v(" "),a("blockquote",[a("p",[t._v("TODO，PR is welcome")])]),t._v(" "),a("h2",{attrs:{id:"heroku"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#heroku"}},[t._v("#")]),t._v(" Heroku")]),t._v(" "),a("blockquote",[a("p",[t._v("TODO")])]),t._v(" "),a("hr"),t._v(" "),a("blockquote",[a("p",[t._v("欢迎大家到"),a("a",{attrs:{href:"https://support.qq.com/products/93432/",target:"_blank",rel:"noopener noreferrer"}},[t._v("鲁班 H5-社区"),a("OutboundLink")],1),t._v("交流，在这里可以提问、反馈意见和建议，与作者直接互动")])]),t._v(" "),a("Vssue",{attrs:{issueId:"7"}})],1)}),[],!1,null,null,null);s.default=e.exports}}]);