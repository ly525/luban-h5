(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{420:function(t,e,s){"use strict";s.r(e);var n=s(47),a=Object(n.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"deployment"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#deployment"}},[t._v("#")]),t._v(" Deployment")]),t._v(" "),s("h2",{attrs:{id:"aliyun-tencent-cloud-digital-ocean"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#aliyun-tencent-cloud-digital-ocean"}},[t._v("#")]),t._v(" Aliyun/Tencent Cloud/Digital Ocean")]),t._v(" "),s("ol",[s("li",[t._v("Preinstall")])]),t._v(" "),s("blockquote",[s("p",[t._v("First of all, you need to install some basic software on your server(centos), please install them yourself (refer to its official website documents for details)")])]),t._v(" "),s("blockquote",[s("p",[s("code",[t._v("node、npm、yarn、pm2")])])]),t._v(" "),s("p",[t._v("The following scripts are just for your information")]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# install yarn")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("curl")]),t._v(" --silent --location https://dl.yarnpkg.com/rpm/yarn.repo "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("tee")]),t._v(" /etc/yum.repos.d/yarn.repo\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" -y\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# install nginx")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("sudo")]),t._v(" yum "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" nginx -y\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# install pm2")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" pm2 -g\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# pm2 examples")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# pm2 start server.js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# pm2 stop server")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# pm2 restart server")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# pm2 stop all")]),t._v("\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[t._v("Run the code on the server")])]),t._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# just run the following code on the server")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone https://github.com/ly525/luban-h5.git\n"),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" luban-h5\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# If you encounter installation errors with sqlite3, node-gyp, etc., please run ./deploy/mirror.sh to configure npm registry to Alibaba Cloud Mirror (especially for resolving binary package installation issues)")]),t._v("\n./luban-h5.sh init  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# installation dependency, build front-end and back-end")]),t._v("\n./luban-h5.sh start "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# just start the service")]),t._v("\n./luban-h5.sh stop "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# stop the service")]),t._v("\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[t._v("How to access\n"),s("ol",[s("li",[t._v("configure the firewall security group and add port "),s("code",[t._v("1337")]),t._v(".")]),t._v(" "),s("li",[t._v("visit "),s("code",[t._v("http://ServerIP:1337/admin")]),t._v(" to get the admin panel for luban-h5")]),t._v(" "),s("li",[t._v("config the API permissions, see more "),s("a",{attrs:{href:"https://ly525.github.io/luban-h5/en/getting-started/quick-start.html#_2-something-important",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),s("OutboundLink")],1)]),t._v(" "),s("li",[t._v("visit "),s("code",[t._v("http://ServerIP:1337")]),t._v(" to get the app")])])])]),t._v(" "),s("h2",{attrs:{id:"docker-deployment"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-deployment"}},[t._v("#")]),t._v(" Docker deployment")]),t._v(" "),s("blockquote",[s("p",[t._v("TODO")])]),t._v(" "),s("h2",{attrs:{id:"heroku"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#heroku"}},[t._v("#")]),t._v(" Heroku")]),t._v(" "),s("blockquote",[s("p",[t._v("Because Strapi + postgresql still has some pits on Heroku and needs official solution, this solution is temporarily pending.")])])])}),[],!1,null,null,null);e.default=a.exports}}]);